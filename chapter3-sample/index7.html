<!DOCTYPE html>
<html>
<head>
<title>index</title>
<script src="https://unpkg.com/vue"></script>
<style>
.hello-class {
  font-size: 20pt;
  font-weight: bold;
  border: 1px solid magenta;
  padding: 5px 10px 0px 10px;
  margin: 10px;

}
.red {
  color: white;
  background-color: red;
}
</style>
</head>
<body>

  <h1>Vue.js</h1>

  <div id="app">
    <div>
      <hello />
    </div>
  </div>

  <script>

    // component作成
    var hello = Vue.component('hello',
      {
        data: function() {
          return {
            counter: 0,
            isRed: false
          };
        },
        methods: {
          doAction: function(event) {

            // this.を付けないとエラーになる
            this.counter++;
            if (this.counter > 10) {
              this.counter = 0;
            }
            if (this.counter % 2 == 0) {
              // 偶数の場合
              this.isRed = false;
            } else {
              // 奇数の場合
              this.isRed = true;
            }
          }
        },
        template: '<p class="hello-class" v-on:click="doAction" v-bind:class="{red:isRed}">クリックするとカウントアップする。現在値= {{ counter }} 回</p>'
      }
    );

    // Vueオブジェクト作成
    var app = new Vue({
      el: '#app'
    });

  </script>
</body>
</html>